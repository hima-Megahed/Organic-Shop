<h1>Shopping Cart</h1>
<p>
    You have {{ cart?.getTotalItemCount }} items in your shopping cart.
</p>

<div class="mat-elevation-z8">

    <table mat-table [dataSource]="items" matSort>

        <!--- Note that these columns can be defined in any order.
                                The actual rendered columns are set as a property on the row definition" -->
        <!-- index Column -->
        <ng-container matColumnDef="index">
            <th mat-header-cell *matHeaderCellDef> No. </th>
            <td mat-cell *matCellDef="let i = index"> {{ i + 1 }} </td>
            <td mat-footer-cell *matFooterCellDef>Total Cost</td>
        </ng-container>

        <!-- Product Column -->
        <ng-container matColumnDef="product">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Product </th>
            <td mat-cell *matCellDef="let item"> {{ item.product.title }} </td>
            <td mat-footer-cell *matFooterCellDef></td>
        </ng-container>

        <!-- Quantity Column -->
        <ng-container matColumnDef="quantity">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Quantity </th>
            <td mat-cell *matCellDef="let item"> {{ item.quantity }} </td>
            <td mat-footer-cell *matFooterCellDef></td>
        </ng-container>

        <!-- Price Column -->
        <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Total Price </th>
            <td mat-cell *matCellDef="let item"> {{ item.totalPrice | currency: 'USD' }} </td>
            <td mat-footer-cell *matFooterCellDef> {{ cart?.totalCost | currency: 'USD'}} </td>

        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
    </table>

    <mat-paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 15, 20]" showFirstLastButtons></mat-paginator>
</div>